# Размещение MIbisnes внутри Telegram-бота (Mini App)

Приложение можно открывать прямо в Telegram: пользователь нажимает кнопку в чате с ботом — открывается ваше приложение в окне Telegram.

---

## 1. Задеплоить приложение по HTTPS

Приложение должно быть доступно по **HTTPS** (обязательно для Telegram).

- Соберите проект: `npm run build`
- Разместите папку `dist/` на хостинге (Timeweb Cloud, Vercel, Netlify и т.п.)
- Запомните полный URL, например: `https://mibisnes-xxx.timeweb.cloud` или `https://your-app.vercel.app`

Без рабочего HTTPS-адреса кнопка в боте открывать приложение не будет.

---

## 2. Настроить кнопку меню бота в BotFather

1. Откройте в Telegram **@BotFather**.
2. Отправьте команду **`/setmenubutton`**.
3. Выберите вашего бота (тот, через который хотите открывать MIbisnes).
4. Выберите **«Configure menu button»** (или «Configure Web App»).
5. Укажите:
   - **Button text** (текст кнопки), например: **Открыть MIbisnes** или **Учёт расходов**.
   - **URL**: ваш HTTPS-адрес приложения из шага 1, например:  
     `https://mibisnes-xxx.timeweb.cloud`

После этого в чате с ботом внизу слева появится кнопка. По нажатию откроется ваше приложение во встроенном браузере Telegram.

---

## 3. Что уже сделано в коде

- В **index.html** подключён скрипт Telegram Web App:  
  `https://telegram.org/js/telegram-web-app.js`
- При открытии из бота вызываются `ready()` и `expand()` — приложение сообщает Telegram, что загрузилось, и запрашивает развёрнутый экран.
- Пользователь из Telegram подставляется автоматически (из `initData`), отдельно нажимать «Войти через Telegram» не нужно.

---

## 4. Проверка

1. Убедитесь, что приложение открывается в обычном браузере по тому же HTTPS-URL.
2. В Telegram откройте чат с ботом и нажмите кнопку меню (слева внизу у поля ввода).
3. Должно открыться окно с вашим приложением; пользователь будет уже «подставлен» из Telegram.

---

## Альтернатива: кнопка в сообщении бота

Можно не использовать кнопку меню, а отправлять пользователю сообщение с **inline-кнопкой**, которая открывает Web App:

- В коде бота (на сервере) при отправке сообщения добавьте кнопку типа `web_app` с URL вашего приложения.
- Тогда приложение будет открываться по нажатию на эту кнопку в сообщении.

Для кнопки меню в BotFather достаточно шагов из раздела 2 выше.
